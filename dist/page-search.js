/*! For license information please see page-search.js.LICENSE.txt */
"use strict";(self.webpackChunkxfinance=self.webpackChunkxfinance||[]).push([[279],{6058:function(e,t,n){n.r(t);var o=n(6540),r=n(4956),l=n(2766),a=n(2471),i=n(272),s=n(72),c=n(6725),u=n(9027),d=n(4848),f=n(6964).Promise;const x={overlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.3)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},modal:{width:"90%",maxWidth:"900px",maxHeight:"90vh",overflowY:"auto",background:"#fff",padding:"20px",borderRadius:"5px",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.1)",display:"flex",flexDirection:"column"},title:{textAlign:"left",fontSize:"18px",marginBottom:"15px",borderBottom:"1px solid #ddd",paddingBottom:"10px"},tabContainer:{display:"flex",marginBottom:"10px"},tabButton:{flex:1,padding:"10px",border:"none",backgroundColor:"#fff",cursor:"pointer",fontSize:"16px"},activeTab:{backgroundColor:"#7e57c2",color:"white",transition:"background 0.3s ease-in-out"},row:{display:"flex",flexDirection:"column",marginBottom:"10px"},input:{padding:"8px",fontSize:"14px",border:"1px solid #ccc",borderRadius:"4px",width:"100%",boxSizing:"border-box"},selectedAccount:{backgroundColor:"#f0f0f0",padding:"5px",borderRadius:"4px",marginBottom:"5px",fontSize:"10px",display:"flex",alignItems:"center",justifyContent:"space-between"},undoButton:{background:"#ff6347",color:"#fff",border:"none",marginLeft:"10px",padding:"5px 8px",cursor:"pointer",borderRadius:"4px"},tableContainer:{width:"100%",overflowX:"auto",overflowY:"auto",maxHeight:"400px",border:"1px solid #ccc",borderRadius:"4px"},table:{width:"100%",borderCollapse:"separate",borderSpacing:0,minWidth:"600px"},th:{backgroundColor:"#f7f7f7",padding:"10px",borderBottom:"1px solid #ddd",borderTop:"1px solid #ddd",textAlign:"left",fontSize:"12px",position:"sticky",top:0,zIndex:10},td:{padding:"0 5px",fontSize:"12px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"180px"},tableRow:{cursor:"pointer",transition:"background 0.3s ease-in-out"},tableRowHover:{background:"#f0f0f0"},selectedRow:{background:"#d6eaf8"},buttonRow:{display:"flex",justifyContent:"space-between",marginTop:"15px"},cancelButton:{background:"#ccc",border:"none",padding:"10px 15px",cursor:"pointer",borderRadius:"4px"},fetchButton:{background:"#ccc",border:"none",padding:"10px 15px",cursor:"pointer",borderRadius:"4px"}};t.default=({isOpen:e,onClose:t,onSelect:n})=>{const{setLoading:p,showMessage:h}=(0,c.U)(),[b,y]=(0,o.useState)(""),[g,m]=(0,o.useState)("account"),[v,w]=(0,o.useState)([]),[j,k]=(0,o.useState)([]),[C,_]=(0,o.useState)([]),[S,I]=(0,o.useState)(""),[R,B]=(0,o.useState)(null),[L,T]=(0,o.useState)(null),[P,F]=(0,o.useState)(null),{dataDir:z}=(0,c.U)();if((0,o.useEffect)((()=>{console.log("üîó BASE_URL =",u.C),e&&f.all([fetch(`${u.C}/api/account`).then((e=>e.json())),fetch(`${u.C}/api/cf`).then((e=>e.json())),fetch(`${u.C}/api/customer`).then((e=>e.json()))]).then((([e,t,n])=>{w(e),k(t),_(n)})).catch((e=>console.error("üìå –î–∞—Ç–∞ —Ç–∞—Ç–∞—Ö–∞–¥ –∞–ª–¥–∞–∞ –≥–∞—Ä–ª–∞–∞:",e)))}),[e,z]),!e)return null;const D=("account"===g?v:"cf"===g?j:C).filter((e=>"account"===g?e["–î–∞–Ω—Å–Ω—ã –¥—É–≥–∞–∞—Ä"]?.toLowerCase().includes(S.toLowerCase())||e["–î–∞–Ω—Å–Ω—ã –Ω—ç—Ä"]?.toLowerCase().includes(S.toLowerCase()):"cf"===g&&e.code?.toLowerCase().includes(S.toLowerCase())||e.name?.toLowerCase().includes(S.toLowerCase())));return(0,d.jsx)("div",{style:x.overlay,children:(0,d.jsxs)("div",{style:x.modal,children:[(0,d.jsxs)(r.w,{selectedValue:g,onTabSelect:(e,t)=>{return n=t.value,m(n),I(""),void T(null);var n},style:x.tabContainer,children:[(0,d.jsx)(l.o,{value:"account",children:"üè¶ –î–∞–Ω—Å"}),(0,d.jsx)(l.o,{value:"cf",children:"üí∏ CF"}),(0,d.jsx)(l.o,{value:"customer",children:"üë§ –•–∞—Ä–∏–ª—Ü–∞–≥—á"})]}),(0,d.jsx)("div",{style:x.row,children:(0,d.jsx)(a.p,{appearance:"outline",contentBefore:(0,d.jsx)(i.u5x,{}),type:"text",placeholder:"account"===g?"–î–∞–Ω—Å–Ω—ã –Ω—ç—Ä —ç—Å–≤—ç–ª –¥—É–≥–∞–∞—Ä —Ö–∞–π—Ö...":"cf"===g?"CF –Ω—ç—Ä —ç—Å–≤—ç–ª –∫–æ–¥ —Ö–∞–π—Ö...":"–•–∞—Ä–∏–ª—Ü–∞–≥—á–∏–π–Ω –Ω—ç—Ä —Ö–∞–π—Ö...",value:S,onChange:(e,t)=>I(t.value)})}),L&&(0,d.jsxs)("div",{style:x.selectedAccount,children:[(0,d.jsx)("strong",{children:"–°–æ–Ω–≥–æ–≥–¥—Å–æ–Ω:"})," ","account"===g?`${L["–î–∞–Ω—Å–Ω—ã –¥—É–≥–∞–∞—Ä"]} - ${L["–î–∞–Ω—Å–Ω—ã –Ω—ç—Ä"]}`:"cf"===g?`${L.code} - ${L.name}`:`${L.name}`,(0,d.jsx)("button",{style:x.undoButton,onClick:async()=>{null!==P&&(await(0,s.i1)(P,h,p),T(null),F(null))},children:"‚ùå –ë—É—Ü–∞–∞—Ö"})]}),(0,d.jsx)("div",{style:x.tableContainer,children:(0,d.jsxs)("table",{style:x.table,children:[(0,d.jsx)("thead",{children:(0,d.jsx)("tr",{children:"account"===g?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("th",{style:x.th,children:"ID"}),(0,d.jsx)("th",{style:x.th,children:"–î–∞–Ω—Å–Ω—ã –¥—É–≥–∞–∞—Ä"}),(0,d.jsx)("th",{style:x.th,children:"–î–∞–Ω—Å–Ω—ã –Ω—ç—Ä"}),(0,d.jsx)("th",{style:x.th,children:"–í–∞–ª—é—Ç"}),(0,d.jsx)("th",{style:x.th,children:"–°–∞–ª–±–∞—Ä"})]}):"cf"===g?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("th",{style:x.th,children:"ID"}),(0,d.jsx)("th",{style:x.th,children:"–ö–æ–¥"}),(0,d.jsx)("th",{style:x.th,children:"–ù—ç—Ä"})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("th",{style:x.th,children:"ID"}),(0,d.jsx)("th",{style:x.th,children:"–•–∞—Ä–∏–ª—Ü–∞–≥—á"}),(0,d.jsx)("th",{style:x.th,children:"–°—Ç–∞—Ç—É—Å"})]})})}),(0,d.jsx)("tbody",{children:D.map(((e,o)=>(0,d.jsx)("tr",{style:{...x.tableRow,...R===o?x.tableRowHover:{},...L===e?x.selectedRow:{}},onMouseEnter:()=>B(o),onMouseLeave:()=>B(null),onDoubleClick:()=>(async(e,o)=>{try{if(T(e),n)n(e),t();else{const e=await(0,s.bp)(y,p);F(e),await(0,s.i1)(o,y,p)}}catch(e){console.error("‚ùå Row click error:",e)}})(e,"account"===g?e["–î–∞–Ω—Å–Ω—ã –¥—É–≥–∞–∞—Ä"]:"cf"===g?e.code:e.name),children:"account"===g?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("td",{style:x.td,children:e.id}),(0,d.jsx)("td",{style:x.td,children:e["–î–∞–Ω—Å–Ω—ã –¥—É–≥–∞–∞—Ä"]}),(0,d.jsx)("td",{style:x.td,children:e["–î–∞–Ω—Å–Ω—ã –Ω—ç—Ä"]}),(0,d.jsx)("td",{style:x.td,children:e["–í–∞–ª—é—Ç"]}),(0,d.jsx)("td",{style:x.td,children:e["–°–∞–ª–±–∞—Ä"]})]}):"cf"===g?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("td",{style:x.td,children:e.id}),(0,d.jsx)("td",{style:x.td,children:e.code}),(0,d.jsx)("td",{style:x.td,children:e.name})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("td",{style:x.td,children:e.id}),(0,d.jsx)("td",{style:x.td,children:e.name}),(0,d.jsx)("td",{style:x.td,children:e.status})]})},o)))})]})}),(0,d.jsxs)("div",{style:x.buttonRow,children:["account"===g?(0,d.jsx)("button",{style:x.fetchButton,onClick:async()=>{try{p(!0),h("‚è≥ –î–∞–Ω—Å–Ω—ã –º—ç–¥—ç—ç–ª–ª–∏–π–≥ —Ç–∞—Ç–∞–∂ –±–∞–π–Ω–∞..."),await(0,s.Mu)(h,p)}catch(e){h("‚ùå –ê–ª–¥–∞–∞ –≥–∞—Ä–ª–∞–∞: "+e.message)}finally{p(!1)}},children:"üîÑ Account —à–∏–Ω—ç—á–ª—ç—Ö"}):(0,d.jsx)("button",{style:{visibility:"hidden"},children:"."}),(0,d.jsx)("button",{style:x.cancelButton,onClick:t,children:"–•–∞–∞—Ö"})]})]})})}},7463:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var o=n-1>>>1,r=e[o];if(!(0<l(r,t)))break e;e[o]=t,e[n]=r,n=o}}function o(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var o=0,r=e.length,a=r>>>1;o<a;){var i=2*(o+1)-1,s=e[i],c=i+1,u=e[c];if(0>l(s,n))c<r&&0>l(u,s)?(e[o]=u,e[c]=n,o=c):(e[o]=s,e[i]=n,o=i);else{if(!(c<r&&0>l(u,n)))break e;e[o]=u,e[c]=n,o=c}}}return t}function l(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var i=Date,s=i.now();t.unstable_now=function(){return i.now()-s}}var c=[],u=[],d=1,f=null,x=3,p=!1,h=!1,b=!1,y="function"==typeof setTimeout?setTimeout:null,g="function"==typeof clearTimeout?clearTimeout:null,m="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var t=o(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=o(u)}}function w(e){if(b=!1,v(e),!h)if(null!==o(c))h=!0,F(j);else{var t=o(u);null!==t&&z(w,t.startTime-e)}}function j(e,n){h=!1,b&&(b=!1,g(S),S=-1),p=!0;var l=x;try{for(v(n),f=o(c);null!==f&&(!(f.expirationTime>n)||e&&!B());){var a=f.callback;if("function"==typeof a){f.callback=null,x=f.priorityLevel;var i=a(f.expirationTime<=n);n=t.unstable_now(),"function"==typeof i?f.callback=i:f===o(c)&&r(c),v(n)}else r(c);f=o(c)}if(null!==f)var s=!0;else{var d=o(u);null!==d&&z(w,d.startTime-n),s=!1}return s}finally{f=null,x=l,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,C=!1,_=null,S=-1,I=5,R=-1;function B(){return!(t.unstable_now()-R<I)}function L(){if(null!==_){var e=t.unstable_now();R=e;var n=!0;try{n=_(!0,e)}finally{n?k():(C=!1,_=null)}}else C=!1}if("function"==typeof m)k=function(){m(L)};else if("undefined"!=typeof MessageChannel){var T=new MessageChannel,P=T.port2;T.port1.onmessage=L,k=function(){P.postMessage(null)}}else k=function(){y(L,0)};function F(e){_=e,C||(C=!0,k())}function z(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){h||p||(h=!0,F(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return o(c)},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var n=x;x=t;try{return e()}finally{x=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=x;x=e;try{return t()}finally{x=n}},t.unstable_scheduleCallback=function(e,r,l){var a=t.unstable_now();switch(l="object"==typeof l&&null!==l&&"number"==typeof(l=l.delay)&&0<l?a+l:a,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:l,expirationTime:i=l+i,sortIndex:-1},l>a?(e.sortIndex=l,n(u,e),null===o(c)&&e===o(u)&&(b?(g(S),S=-1):b=!0,z(w,l-a))):(e.sortIndex=i,n(c,e),h||p||(h=!0,F(j))),e},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(e){var t=x;return function(){var n=x;x=t;try{return e.apply(this,arguments)}finally{x=n}}}},9982:function(e,t,n){e.exports=n(7463)}}]);
//# sourceMappingURL=page-search.js.map