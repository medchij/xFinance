# ”®–Ω”©”©–¥—Ä–∏–π–Ω –∞–∂–∏–ª–¥ –∑—É—Ä–∞–≥ –æ—Ä—É—É–ª–∞—Ö —Ñ—É–Ω–∫—Ü

## ‚úÖ –•–∏–π–≥–¥—Å—ç–Ω –∑“Ø–π–ª—Å

### 1. Database Schema (–ú—ç–¥—ç—ç–ª–ª–∏–π–Ω —Å–∞–Ω)
- ‚úÖ `daily_tasks` table –¥—ç—ç—Ä `image_url TEXT` column –Ω—ç–º—Å—ç–Ω
- ‚úÖ Migration script –∞–∂–∏–ª–ª–∞—Å–∞–Ω: `backend/scripts/add-task-image-column.js`

### 2. Backend API (–°–µ—Ä–≤–µ—Ä–∏–π–Ω —Ö—ç—Å—ç–≥)
- ‚úÖ Multer middleware —Å—É—É—Ä–∏–ª—É—É–ª—Å–∞–Ω (–∑—É—Ä–∞–≥ upload —Ö–∏–π—Ö)
- ‚úÖ –§–∞–π–ª—ã–Ω —Ö–∞–¥–≥–∞–ª–∞–ª—Ç: `backend/uploads/tasks/` folder
- ‚úÖ –§–∞–π–ª—ã–Ω —Ñ–æ—Ä–º–∞—Ç: `task-[timestamp]-[random].[extension]`
- ‚úÖ –•—è–∑–≥–∞–∞—Ä–ª–∞–ª—Ç: 5MB —Ö—ç–º–∂—ç—ç, JPEG/JPG/PNG/GIF —Ñ–æ—Ä–º–∞—Ç—É—É–¥
- ‚úÖ API endpoints:
  - `POST /api/daily-tasks/:id/image` - –ó—É—Ä–∞–≥ –æ—Ä—É—É–ª–∞—Ö
  - `DELETE /api/daily-tasks/:id/image` - –ó—É—Ä–∞–≥ —É—Å—Ç–≥–∞—Ö
  - `POST /api/daily-tasks` - –ê–∂–∏–ª “Ø“Ø—Å–≥—ç—Ö (image_url –ø–∞—Ä–∞–º–µ—Ç—Ä—Ç–∞–π)

### 3. Frontend UI (–•–∞—Ä–∞–≥–¥–∞—Ö —Ö—ç—Å—ç–≥)
- ‚úÖ –ó—É—Ä–∞–≥ –æ—Ä—É—É–ª–∞—Ö —Ç–æ–≤—á (–∫–∞–º–µ—Ä –¥“Ø—Ä—Å)
- ‚úÖ –ó—É—Ä–∞–≥ —Å–æ–Ω–≥–æ—Ö “Ø–µ–¥ preview —Ö–∞—Ä—É—É–ª–∞—Ö
- ‚úÖ –ê–∂–ª—ã–Ω –∂–∞–≥—Å–∞–∞–ª—Ç–∞–¥ –∑—É—Ä–∞–≥ —Ö–∞—Ä—É—É–ª–∞—Ö (50x50px thumbnail)
- ‚úÖ –ó—É—Ä–≥–∞–Ω –¥—ç—ç—Ä –¥–∞—Ä–∞—Ö–∞–¥ —Ç–æ–º—Ä—É—É–ª–∂ —Ö–∞—Ä–∞—Ö
- ‚úÖ –ó—É—Ä–∞–≥ —É—Å—Ç–≥–∞—Ö —Ç–æ–≤—á (√ó –¥“Ø—Ä—Å)
- ‚úÖ Story modal –¥—ç—ç—Ä –∑—É—Ä–∞–≥ —Ö–∞—Ä—É—É–ª–∞—Ö (—Ç–æ–º —Ö—ç–º–∂—ç—ç—Ç—ç–π)

## üé® –•—ç—Ä—ç–≥–ª—ç—Ö –∑–∞–∞–≤–∞—Ä

### –ê–∂–∏–ª–¥ –∑—É—Ä–∞–≥ –æ—Ä—É—É–ª–∞—Ö:
1. "”®–Ω”©”©–¥”©—Ä —Ö–∏–π—Ö –∞–∂–∏–ª..." input –¥—ç—ç—Ä –∞–∂–ª—ã–Ω –Ω—ç—Ä –±–∏—á–∏—Ö
2. –ö–∞–º–µ—Ä –¥“Ø—Ä—Å –¥—ç—ç—Ä –¥–∞—Ä–∂ –∑—É—Ä–∞–≥ —Å–æ–Ω–≥–æ—Ö
3. Preview —Ö–∞—Ä–∞–≥–¥–∞–Ω–∞
4. "‚ûï –ù—ç–º—ç—Ö" —Ç–æ–≤—á –¥–∞—Ä–∂ —Ö–∞–¥–≥–∞–ª–∞—Ö

### –ó—É—Ä–∞–≥ —É—Å—Ç–≥–∞—Ö:
- –ê–∂–ª—ã–Ω –∑—É—Ä–∞–≥ –¥—ç—ç—Ä—Ö "‚úï" —Ç–æ–≤—á –¥–∞—Ä–∞—Ö

### –ó—É—Ä–∞–≥ —Ö–∞—Ä–∞—Ö:
- –ñ–∞–≥—Å–∞–∞–ª—Ç—ã–Ω –∑—É—Ä–∞–≥ –¥—ç—ç—Ä –¥–∞—Ä–∞—Ö–∞–¥ —Ç–æ–º—Ä—É—É–ª–∂ —Ö–∞—Ä–∞–≥–¥–∞–Ω–∞
- Story modal –¥—ç—ç—Ä —Ç–æ–º —Ö—ç–º–∂—ç—ç—Ç—ç–π —Ö–∞—Ä–∞–≥–¥–∞–Ω–∞

## üìÅ ”®”©—Ä—á–ª”©–≥–¥—Å”©–Ω —Ñ–∞–π–ª—É—É–¥

### Backend:
1. `backend/scripts/add-task-image-column.js` - Database migration
2. `backend/routes/daily-tasks.js` - Image upload/delete endpoints

### Frontend:
1. `src/XFinance/components/Profile.jsx` - UI components + handlers

## üîß Technical Details

### Upload Process:
```javascript
// 1. –ó—É—Ä–∞–≥ —Å–æ–Ω–≥–æ—Ö
handleTaskImageSelect() -> setTaskImage, setTaskImagePreview

// 2. –ê–∂–∏–ª “Ø“Ø—Å–≥—ç—Ö
handleAddTask() -> POST /api/daily-tasks -> task created

// 3. –ó—É—Ä–∞–≥ –æ—Ä—É—É–ª–∞—Ö
if (taskImage) -> POST /api/daily-tasks/:id/image -> FormData upload

// 4. State —à–∏–Ω—ç—á–ª—ç—Ö
setDailyTasks([...dailyTasks, updatedTask])
```

### Delete Process:
```javascript
// 1. –£—Å—Ç–≥–∞—Ö —Ç–æ–≤—á –¥–∞—Ä–∞—Ö
handleDeleteTaskImage(taskId)

// 2. Backend –¥—É—É–¥–∞—Ö
DELETE /api/daily-tasks/:id/image

// 3. –§–∞–π–ª –±–æ–ª–æ–Ω database-—Å —É—Å—Ç–≥–∞—Ö
fs.unlinkSync() + UPDATE daily_tasks SET image_url = NULL

// 4. State —à–∏–Ω—ç—á–ª—ç—Ö
setDailyTasks(tasks.map(t => t.id === taskId ? {...t, image_url: null} : t))
```

## üéØ Features

- ‚úÖ –ó—É—Ä–∞–≥ –æ—Ä—É—É–ª–∞—Ö preview
- ‚úÖ –ó—É—Ä–∞–≥ —Ö–∞–¥–≥–∞–ª–∞—Ö
- ‚úÖ –ó—É—Ä–∞–≥ —Ö–∞—Ä—É—É–ª–∞—Ö (thumbnail + full view)
- ‚úÖ –ó—É—Ä–∞–≥ —É—Å—Ç–≥–∞—Ö
- ‚úÖ Story modal –¥—ç—ç—Ä –∑—É—Ä–∞–≥ —Ö–∞—Ä—É—É–ª–∞—Ö
- ‚úÖ –§–∞–π–ª—ã–Ω —Ñ–æ—Ä–º–∞—Ç —à–∞–ª–≥–∞—Ö
- ‚úÖ –§–∞–π–ª—ã–Ω —Ö—ç–º–∂—ç—ç —Ö—è–∑–≥–∞–∞—Ä–ª–∞—Ö
- ‚úÖ –•—É—É—á–∏–Ω —Ñ–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∞–∞—Ä —É—Å—Ç–≥–∞—Ö
- ‚úÖ Error handling

## üöÄ –¢—É—Ä—à–∏–ª—Ç —Ö–∏–π—Ö

1. ”®–Ω”©”©–¥—Ä–∏–π–Ω –∞–∂–∏–ª –Ω—ç–º—ç—Ö
2. –ö–∞–º–µ—Ä —Ç–æ–≤—á –¥–∞—Ä–∂ –∑—É—Ä–∞–≥ —Å–æ–Ω–≥–æ—Ö
3. Preview —Ö–∞—Ä–∞–≥–¥–∞—Ö —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞—Ö
4. –ê–∂–∏–ª “Ø“Ø—Å–≥—ç—Ö
5. –ñ–∞–≥—Å–∞–∞–ª—Ç–∞–¥ –∑—É—Ä–∞–≥ —Ö–∞—Ä–∞–≥–¥–∞—Ö —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞—Ö
6. –ó—É—Ä–∞–≥ –¥—ç—ç—Ä –¥–∞—Ä–∂ —Ç–æ–º—Ä—É—É–ª–∞—Ö
7. Story modal –Ω—ç—ç–∂ –∑—É—Ä–∞–≥ —Ö–∞—Ä–∞–≥–¥–∞—Ö —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞—Ö
8. –ó—É—Ä–∞–≥ —É—Å—Ç–≥–∞—Ö —Ç–æ–≤—á –∞–∂–∏–ª–ª–∞–∂ –±–∞–π–≥–∞–∞ —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞—Ö

## ‚ö†Ô∏è –ê–Ω—Ö–∞–∞—Ä–∞—Ö –∑“Ø–π–ª—Å

- –ó—É—Ä–∞–≥ —Ñ–∞–π–ª—ã–Ω —Ö—ç–º–∂—ç—ç: –ú–∞–∫—Å–∏–º—É–º 5MB
- –ó”©–≤—à”©”©—Ä”©–≥–¥—Å”©–Ω —Ñ–æ—Ä–º–∞—Ç—É—É–¥: JPG, JPEG, PNG, GIF
- –§–∞–π–ª—É—É–¥ —Ö–∞–¥–≥–∞–ª–∞–≥–¥–∞—Ö –≥–∞–∑–∞—Ä: `backend/uploads/tasks/`
- –ó—É—Ä–∞–≥ URL: `/uploads/tasks/task-[timestamp]-[random].[ext]`
